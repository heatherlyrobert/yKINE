#!/usr/local/bin/koios
#



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ============================================(arguments)=============================================  ==(test)==  ==========================(results)=================================== 
PREP          v21  include the prototype headers                               
   incl       v21  include public header                yKINE.h              
   incl       v21  include private header               yKINE_priv.h         



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ============================================(arguments)=============================================  ==(test)==  ==========================(results)=================================== 
SCRP          v21  simple all kinematics for the thorax and coxa                yKIN0__thor, yKINO__coxa                                                                              ----------  ---------------------------------------------------------------------- 

   COND       v21  initialize the global data                                   ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     exec     v21  run init                             yKINO_init                                                                                                                  i_equal     0                                                                      

   COND       v21  establish the thorax for a hypothetical 0 deg leg            ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,    0.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , THOR                                                                     u_round/1   RF.thor.fk deg :    75.0m,     0.0d,   0.000v,   0.000h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , THOR                                                                     u_round/1   RF.thor.fk seg :    75.0m,    75.0x,     0.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , THOR                                                                     u_round/1   RF.thor.fk end :    75.0m,    75.0x,     0.0z,     0.0y                
     get      v21  verify ik joint angles               yKINO__getter         "IK_angles"    , L_RF      , THOR                                                                     u_round/1   RF.thor.ik deg :    75.0m,     0.0d,   0.000v,   0.000h                
     get      v21  verify ik segment values             yKINO__getter         "IK_segment"   , L_RF      , THOR                                                                     u_round/1   RF.thor.ik seg :    75.0m,    75.0x,     0.0z,     0.0y                
     get      v21  verify ik endpoint values            yKINO__getter         "IK_endpoint"  , L_RF      , THOR                                                                     u_round/1   RF.thor.ik end :    75.0m,    75.0x,     0.0z,     0.0y                

   COND       v21  establish the thorax for right-front                         ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , THOR                                                                     u_round/1   RF.thor.fk deg :    75.0m,    30.0d,   0.000v,   0.524h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , THOR                                                                     u_round/1   RF.thor.fk seg :    75.0m,    65.0x,   -37.5z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , THOR                                                                     u_round/1   RF.thor.fk end :    75.0m,    65.0x,   -37.5z,     0.0y                
     get      v21  verify ik joint angles               yKINO__getter         "IK_angles"    , L_RF      , THOR                                                                     u_round/1   RF.thor.ik deg :    75.0m,    30.0d,   0.000v,   0.524h                
     get      v21  verify ik segment values             yKINO__getter         "IK_segment"   , L_RF      , THOR                                                                     u_round/1   RF.thor.ik seg :    75.0m,    65.0x,   -37.5z,     0.0y                
     get      v21  verify ik endpoint values            yKINO__getter         "IK_endpoint"  , L_RF      , THOR                                                                     u_round/1   RF.thor.ik end :    75.0m,    65.0x,   -37.5z,     0.0y                

   COND       v21  establish the thorax for right-middle                        ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RM      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RM      , THOR      ,   90.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RM                                                                                                 i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RM      , THOR                                                                     u_round/1   RM.thor.fk deg :    75.0m,    90.0d,   0.000v,   1.571h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RM      , THOR                                                                     u_round/1   RM.thor.fk seg :    75.0m,     0.0x,   -75.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RM      , THOR                                                                     u_round/1   RM.thor.fk end :    75.0m,     0.0x,   -75.0z,     0.0y                
     get      v21  verify ik joint angles               yKINO__getter         "IK_angles"    , L_RM      , THOR                                                                     u_round/1   RM.thor.ik deg :    75.0m,    90.0d,   0.000v,   1.571h                
     get      v21  verify ik segment values             yKINO__getter         "IK_segment"   , L_RM      , THOR                                                                     u_round/1   RM.thor.ik seg :    75.0m,     0.0x,   -75.0z,     0.0y                
     get      v21  verify ik endpoint values            yKINO__getter         "IK_endpoint"  , L_RM      , THOR                                                                     u_round/1   RM.thor.ik end :    75.0m,     0.0x,   -75.0z,     0.0y                

   COND       v21  establish the thorax for left-rear                           ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_LR      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_LR      , THOR      ,  210.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_LR                                                                                                 i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_LR      , THOR                                                                     u_round/1   LR.thor.fk deg :    75.0m,   210.0d,   0.000v,   3.665h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_LR      , THOR                                                                     u_round/1   LR.thor.fk seg :    75.0m,   -65.0x,    37.5z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_LR      , THOR                                                                     u_round/1   LR.thor.fk end :    75.0m,   -65.0x,    37.5z,     0.0y                
     get      v21  verify ik joint angles               yKINO__getter         "IK_angles"    , L_LR      , THOR                                                                     u_round/1   LR.thor.ik deg :    75.0m,   210.0d,   0.000v,   3.665h                
     get      v21  verify ik segment values             yKINO__getter         "IK_segment"   , L_LR      , THOR                                                                     u_round/1   LR.thor.ik seg :    75.0m,   -65.0x,    37.5z,     0.0y                
     get      v21  verify ik endpoint values            yKINO__getter         "IK_endpoint"  , L_LR      , THOR                                                                     u_round/1   LR.thor.ik end :    75.0m,   -65.0x,    37.5z,     0.0y                

   COND       v21  establish the coxa for right-front                           ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , COXA                                                                     u_round/1   RF.coxa.fk deg :    30.0m,     0.0d,   0.000v,   0.524h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , COXA                                                                     u_round/1   RF.coxa.fk seg :    30.0m,    26.0x,   -15.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , COXA                                                                     u_round/1   RF.coxa.fk end :    30.0m,    90.9x,   -52.5z,     0.0y                
     get      v21  verify ik joint angles               yKINO__getter         "IK_angles"    , L_RF      , COXA                                                                     u_round/1   RF.coxa.ik deg :    30.0m,     0.0d,   0.000v,   0.524h                
     get      v21  verify ik segment values             yKINO__getter         "IK_segment"   , L_RF      , COXA                                                                     u_round/1   RF.coxa.ik seg :    30.0m,    26.0x,   -15.0z,     0.0y                
     get      v21  verify ik endpoint values            yKINO__getter         "IK_endpoint"  , L_RF      , COXA                                                                     u_round/1   RF.coxa.ik end :    30.0m,    90.9x,   -52.5z,     0.0y                

   COND       v21  establish the coxa for right-middle                          ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RM      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RM      , THOR      ,   90.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RM      , COXA      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RM                                                                                                 i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RM      , COXA                                                                     u_round/1   RM.coxa.fk deg :    30.0m,     0.0d,   0.000v,   1.571h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RM      , COXA                                                                     u_round/1   RM.coxa.fk seg :    30.0m,     0.0x,   -30.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RM      , COXA                                                                     u_round/1   RM.coxa.fk end :    30.0m,     0.0x,  -105.0z,     0.0y                
     get      v21  verify ik joint angles               yKINO__getter         "IK_angles"    , L_RM      , COXA                                                                     u_round/1   RM.coxa.ik deg :    30.0m,     0.0d,   0.000v,   1.571h                
     get      v21  verify ik segment values             yKINO__getter         "IK_segment"   , L_RM      , COXA                                                                     u_round/1   RM.coxa.ik seg :    30.0m,     0.0x,   -30.0z,     0.0y                
     get      v21  verify ik endpoint values            yKINO__getter         "IK_endpoint"  , L_RM      , COXA                                                                     u_round/1   RM.coxa.ik end :    30.0m,     0.0x,  -105.0z,     0.0y                

   COND       v21  establish the coxa for left-rear                             ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_LR      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_LR      , THOR      ,  210.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_LR      , COXA      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_LR                                                                                                 i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_LR      , COXA                                                                     u_round/1   LR.coxa.fk deg :    30.0m,     0.0d,   0.000v,   3.665h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_LR      , COXA                                                                     u_round/1   LR.coxa.fk seg :    30.0m,   -26.0x,    15.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_LR      , COXA                                                                     u_round/1   LR.coxa.fk end :    30.0m,   -90.9x,    52.5z,     0.0y                
     get      v21  verify ik joint angles               yKINO__getter         "IK_angles"    , L_LR      , COXA                                                                     u_round/1   LR.coxa.ik deg :    30.0m,     0.0d,   0.000v,   3.665h                
     get      v21  verify ik segment values             yKINO__getter         "IK_segment"   , L_LR      , COXA                                                                     u_round/1   LR.coxa.ik seg :    30.0m,   -26.0x,    15.0z,     0.0y                
     get      v21  verify ik endpoint values            yKINO__getter         "IK_endpoint"  , L_LR      , COXA                                                                     u_round/1   LR.coxa.ik end :    30.0m,   -90.9x,    52.5z,     0.0y                



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ============================================(arguments)=============================================  ==(test)==  ==========================(results)=================================== 
SCRP          v21  simple forward kinematics for femur                          yKIN0__FK_femu                                                                                        ----------  ---------------------------------------------------------------------- 

   COND       v21  initialize the global data                                   ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     exec     v21  run init                             yKINO_init                                                                                                                  i_equal     0                                                                      

   COND       v21  calculate femur in hypothetical 0 deg leg (straight)         ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,    0.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk deg :    30.0m,     0.0d,   0.000v,   0.000h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk seg :    30.0m,    30.0x,     0.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk end :    30.0m,   135.0x,     0.0z,     0.0y                

   COND       v21  calculate femur for right-front (straight)                   ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk deg :    30.0m,     0.0d,   0.000v,   0.524h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk seg :    30.0m,    26.0x,   -15.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk end :    30.0m,   116.9x,   -67.5z,     0.0y                

   COND       v21  calculate femur for right-front (straight)                   ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk deg :    30.0m,     0.0d,   0.000v,   0.524h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk seg :    30.0m,    26.0x,   -15.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk end :    30.0m,   116.9x,   -67.5z,     0.0y                

   COND       v21  calculate femur for right-front (slightly back)              ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          , -30.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk deg :    30.0m,   -30.0d,   0.000v,   0.000h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk seg :    30.0m,    30.0x,     0.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk end :    30.0m,   120.9x,   -52.5z,     0.0y                

   COND       v21  calculate femur for right-front (sightly forward)            ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,  30.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk deg :    30.0m,    30.0d,   0.000v,   1.047h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk seg :    30.0m,    15.0x,   -26.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk end :    30.0m,   105.9x,   -78.5z,     0.0y                

   COND       v21  calculate femur for right-front (all the way back)           ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          , -90.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk deg :    30.0m,   -90.0d,   0.000v,  -1.047h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk seg :    30.0m,    15.0x,    26.0z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , FEMU                                                                     u_round/1   RF.femu.fk end :    30.0m,   105.9x,   -26.5z,     0.0y                

   COND       v21  calculate femur for right-front (TOO FAR BACK)               ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,-120.0                                                                                i_lesser    0                                                                      

   COND       v21  calculate femur for right-front (TOO FAR FOREWARD)           ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,  95.0                                                                                i_lesser    0                                                                      



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ============================================(arguments)=============================================  ==(test)==  ==========================(results)=================================== 
SCRP          v21  simple forward kinematics for patella                        yKIN0__FK_pate                                                                                        ----------  ---------------------------------------------------------------------- 

   COND       v21  initialize the global data                                   ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     exec     v21  run init                             yKINO_init                                                                                                                  i_equal     0                                                                      

   COND       v21  calculate patella in hypothetical 0 deg leg (straight)       ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,    0.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force patella length for testing     yKINO__setter         "seg_length"   , L_RF      , PATE      ,   57.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     exec     v21  calc forward on patella              yKINO__FK_pate         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , PATE                                                                     u_round/1   RF.pate.fk deg :    57.0m,     0.0d,   0.000v,   0.000h                
#    set      v21  turn on yVAR_debug                   yVAR_debug            'y'                                                                                                   i_equal     0                                                                      
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , PATE                                                                     u_round/1   RF.pate.fk seg :    57.0m,    57.0x,     0.0z,     0.0y                
#    set      v21  turn off yVAR_debug                  yVAR_debug            '-'                                                                                                   i_equal     0                                                                      
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , PATE                                                                     u_round/1   RF.pate.fk end :    57.0m,   192.0x,     0.0z,     0.0y                

   COND       v21  calculate patella for right-front (straight)                 ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force patella length for testing     yKINO__setter         "seg_length"   , L_RF      , PATE      ,   57.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     exec     v21  calc forward on patella              yKINO__FK_pate         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , PATE                                                                     u_round/1   RF.pate.fk deg :    57.0m,     0.0d,   0.000v,   0.524h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , PATE                                                                     u_round/1   RF.pate.fk seg :    57.0m,    49.4x,   -28.5z,     0.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , PATE                                                                     u_round/1   RF.pate.fk end :    57.0m,   166.3x,   -96.0z,     0.0y                

   COND       v21  calculate patella for right-front (straight downward)        ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force patella length for testing     yKINO__setter         "seg_length"   , L_RF      , PATE      ,   57.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     exec     v21  calc forward on patella              yKINO__FK_pate         L_RF          ,  90.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , PATE                                                                     u_round/1   RF.pate.fk deg :    57.0m,    90.0d,   1.571v,   0.524h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , PATE                                                                     u_round/1   RF.pate.fk seg :    57.0m,     0.0x,     0.0z,   -57.0y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , PATE                                                                     u_round/1   RF.pate.fk end :    57.0m,   116.9x,   -67.5z,   -57.0y                

   COND       v21  calculate patella for right-front (sticking out downward)    ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force patella length for testing     yKINO__setter         "seg_length"   , L_RF      , PATE      ,   57.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     exec     v21  calc forward on patella              yKINO__FK_pate         L_RF          ,  45.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , PATE                                                                     u_round/1   RF.pate.fk deg :    57.0m,    45.0d,   0.785v,   0.524h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , PATE                                                                     u_round/1   RF.pate.fk seg :    57.0m,    34.9x,   -20.2z,   -40.3y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , PATE                                                                     u_round/1   RF.pate.fk end :    57.0m,   151.8x,   -87.7z,   -40.3y                

   COND       v21  calculate patella for right-front (sticking out upward)      ----------------------------------------------------------------------------------------------------  ----------  ---------------------------------------------------------------------- 
     set      v21  force thorax length for testing      yKINO__setter         "seg_length"   , L_RF      , THOR      ,   75.0                                                       i_equal     0                                                                      
     set      v21  force thorax degrees for testing     yKINO__setter         "seg_degree"   , L_RF      , THOR      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force coxa length for testing        yKINO__setter         "seg_length"   , L_RF      , COXA      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force femur length for testing       yKINO__setter         "seg_length"   , L_RF      , FEMU      ,   30.0                                                       i_equal     0                                                                      
     set      v21  force patella length for testing     yKINO__setter         "seg_length"   , L_RF      , PATE      ,   57.0                                                       i_equal     0                                                                      
     exec     v21  calc thorax                          yKINO__thor            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc coxa                            yKINO__coxa            L_RF                                                                                                 i_equal     0                                                                      
     exec     v21  calc forward on femur                yKINO__FK_femu         L_RF          ,   0.0                                                                                i_equal     0                                                                      
     exec     v21  calc forward on patella              yKINO__FK_pate         L_RF          , -25.0                                                                                i_equal     0                                                                      
     get      v21  verify fk joint angles               yKINO__getter         "FK_angles"    , L_RF      , PATE                                                                     u_round/1   RF.pate.fk deg :    57.0m,   -25.0d,  -0.436v,   0.524h                
     get      v21  verify fk segment values             yKINO__getter         "FK_segment"   , L_RF      , PATE                                                                     u_round/1   RF.pate.fk seg :    57.0m,    44.7x,   -25.8z,    24.1y                
     get      v21  verify fk endpoint values            yKINO__getter         "FK_endpoint"  , L_RF      , PATE                                                                     u_round/1   RF.pate.fk end :    57.0m,   161.7x,   -93.3z,    24.1y                





